{
  "name": "simple-odata-server",
  "version": "0.1.3",
  "description": "OData server with adapter for mongodb and nedb",
  "main": "index.js",
  "scripts": {
    "test": "mocha -R spec"
  },
  "author": {
    "name": "Jan Blaha"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "git://github.com/pofider/node-simple-odata-server"
  },
  "keywords": [
    "OData",
    "server",
    "mongodb",
    "nedb"
  ],
  "dependencies": {
    "methods": "1.1.1",
    "odata-parser": "1.2.0",
    "path-to-regexp": "1.0.3",
    "xmlbuilder": "2.5.0"
  },
  "devDependencies": {
    "mocha": "2.2.1",
    "nedb": "1.1.1",
    "mongodb": "2.0.26",
    "should": "5.2.0",
    "supertest": "0.15.0",
    "xml2js": "0.4.6"
  },
  "readme": "#Node simple OData server\r\n[![NPM Version](http://img.shields.io/npm/v/simple-odata-server.svg?style=flat-square)](https://npmjs.com/package/simple-odata-server)\r\n[![License](http://img.shields.io/npm/l/simple-odata-server.svg?style=flat-square)](http://opensource.org/licenses/MIT)\r\n[![Build Status](https://travis-ci.org/pofider/node-simple-odata-server.png?branch=master)](https://travis-ci.org/pofider/node-simple-odata-server)    \r\n\r\n**Super simple implementation of OData server running on Node.js with easy adapters for mongodb and nedb.** Just define an OData model, provide a mongo or nedb database, hook into node.js http server and run. \r\n\r\nIt supports basic operations you would expect like providing $metadata, filtering and also operations for insert, update and delete. On the other hand it suppose to be really simple so you don't get support for entity links, batch operations, atom feeds and many others. \r\n\r\nThe implementation is tested with [.net OData client](https://github.com/object/Simple.OData.Client) and it should fulfill basic protocol requirements.\r\n\r\n##Get started\r\n\r\nThis is how you can create an OData server with node.js http module and nedb.\r\n```js\r\nvar http = require('http');\r\nvar Datastore = require('nedb');\r\nvar db = new Datastore( { inMemoryOnly: true });\r\nvar ODataServer = require(\"odata-simple-server\");\r\n\r\nvar model = {\r\n    namespace: \"jsreport\",\r\n    entityTypes: {\r\n        \"jsreport.UserType\": {\r\n            \"_id\": {\"type\": \"Edm.String\", key: true},\r\n            \"test\": {\"type\": \"Edm.String\"},            \r\n        }\r\n    },   \r\n    entitySets: {\r\n        \"users\": {\r\n            type: \"jsreport.UserType\"\r\n        }\r\n    }\r\n};\r\n\r\nvar odataServer = ODataServer(\"http://localhost:1337\")\r\n    .model(model)\r\n    .onNeDB(function(es, cb) { cb(null, db)});\r\n\r\n\r\nhttp.createServer(odataServer.handle.bind(odataServer)).listen(1337);\r\n```\r\n\r\nNow you can try requests like:<br/>\r\nGET [http://localhost:1337/$metadata]()<br/>\r\nGET [http://localhost:1337/users?$filter=test eq 'a' or test eq 'b'&$skip=1&$take=5]()<br/>\r\nGET [http://localhost:1337/users('aaaa')]()<br/>\r\nGET [http://localhost:1337/users?$orderby=test desc]()<br/>\r\nGET [http://localhost:1337/users/$count]()<br/>\r\nPOST, PATCH, DELETE\r\n\r\n##mongodb\r\nIt works the same way with nedb and mongo. You just need to provide callback for mongo database instance.\r\n```js\r\nMongoClient.connect(url, function(err, db) {\r\n\todataServer.onMongo(function(cb) { cb(err, db); }); \r\n});\r\n```\r\n\r\n##express.js\r\nIt works well also with the express.js. You even don't need to provide service uri in the `ODataServer` constructor because it is taken from the express.js request.\r\n\r\n```js\r\napp.use(\"/odata\", function (req, res) {\r\n        odataServer.handle(req, res);\r\n    });\r\n```\r\n\r\n##Configurations\r\nUsing `onNeDB` and `onMongo` is just a simple way for initializing `ODataServer`. You can implement your own data layer or override default behavior using following methods: \r\n\r\n```js\r\nodataServer\r\n\t.query(fn(setName, query, cb))\r\n\t.update(fn(setName, query, update, cb))\r\n\t.insert(fn(setName, doc, cb))\r\n\t.remove(fn(setName, query, cb))\r\n\t.beforeQuery(fn(setName, query, cb))\r\n\t.beforeUpdate(fn(setName, query, update))\r\n\t.beforeInsert(fn(setName, doc, cb))\r\n\t.beforeRemove(fn(setName, query, cb))\r\n\t.afterRead(fn(setName, result));\r\n\t//add hook to error which you can handle or pass to default\r\n\t.error(fn(req, res, error, default))\r\n```\r\n\r\n\r\n\r\n##Contributions\r\nI will maintain this repository for a while because I use it in [jsreport](https://github.com/jsreport/jsreport). You are more than welcome to contribute with pull requests and add other basic operations you require. \r\n\r\n##Limitations\r\n- document ids must have name **_id**\r\n- no entity links\r\n- no batch operations\r\n- no validations\r\n- ... this would be a very long list, so rather check yourself\r\n\r\n##License\r\nSee [license](https://github.com/pofider/node-simple-odata-server/blob/master/LICENSE)\r\n\r\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/pofider/node-simple-odata-server/issues"
  },
  "_id": "simple-odata-server@0.1.3",
  "_from": "simple-odata-server@0.1.3"
}
